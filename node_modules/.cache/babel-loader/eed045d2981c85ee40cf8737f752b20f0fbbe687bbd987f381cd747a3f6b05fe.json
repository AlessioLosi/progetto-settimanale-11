{"ast":null,"code":"import { PLAY_SONG } from \"../actions/Actions\";\nimport { TOGGLE_LIKE } from \"../actions/Actions\";\nconst initialState = {\n  list: [],\n  currentSong: null,\n  likedSongs: [],\n  status: 'idle'\n};\nconst playSongReducer = (state, action) => {\n  state.currentSong = action.payload;\n};\nconst toggleLikeReducer = (state, action) => {\n  const songId = action.payload;\n  if (state.likedSongs.includes(songId)) {\n    state.likedSongs = state.likedSongs.filter(id => id !== songId);\n  } else {\n    state.likedSongs.push(songId);\n  }\n};\nconst songsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PLAY_SONG:\n      return playSongReducer(state, action);\n    case TOGGLE_LIKE:\n      return toggleLikeReducer(state, action);\n    default:\n      return state;\n  }\n};\nexport const getSongsAction = () => {\n  return (dispatch, getState) => {\n    fetch('https://striveschool-api.herokuapp.com/api/deezer/search?q=' + {\n      query\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('errore nel recupero dei libri');\n      }\n    }).then(arrayOfBooks => {\n      dispatch({\n        type: GET_SONGS,\n        payload: arrayOfSongs\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport default songsReducer;","map":{"version":3,"names":["PLAY_SONG","TOGGLE_LIKE","initialState","list","currentSong","likedSongs","status","playSongReducer","state","action","payload","toggleLikeReducer","songId","includes","filter","id","push","songsReducer","type","getSongsAction","dispatch","getState","fetch","query","then","response","ok","json","Error","arrayOfBooks","GET_SONGS","arrayOfSongs","catch","err","console","log"],"sources":["/Users/alessiaolosi/Desktop/progetti settimanali/progetto-settimana-11/src/redux/reducers/Reduces.js"],"sourcesContent":["import { PLAY_SONG } from \"../actions/Actions\";\nimport { TOGGLE_LIKE } from \"../actions/Actions\";\n\nconst initialState = {\n  list: [],\n  currentSong: null,\n  likedSongs: [],\n  status: 'idle',\n};\n\nconst playSongReducer = (state, action) => {\n  state.currentSong = action.payload;\n};\n\nconst toggleLikeReducer = (state, action) => {\n  const songId = action.payload;\n  if (state.likedSongs.includes(songId)) {\n    state.likedSongs = state.likedSongs.filter(id => id !== songId);\n  } else {\n    state.likedSongs.push(songId);\n  }\n};\n\n\nconst songsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PLAY_SONG:\n      return playSongReducer(state, action);\n    case TOGGLE_LIKE:\n      return toggleLikeReducer(state, action);\n    default:\n      return state;\n  }\n};\nexport const getSongsAction = () => {\n    return (dispatch, getState) => {\n      fetch('https://striveschool-api.herokuapp.com/api/deezer/search?q=' +{query})\n        .then((response) => {\n          if (response.ok) {\n            return response.json()\n          } else {\n            throw new Error('errore nel recupero dei libri')\n          }\n        })\n        .then((arrayOfBooks) => {\n          dispatch({\n            type: GET_SONGS,\n            payload: arrayOfSongs,\n          })\n        })\n        .catch((err) => {\n          console.log(err)\n        })}}\n\nexport default songsReducer;\n\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,WAAW,QAAQ,oBAAoB;AAEhD,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,EAAE;EACRC,WAAW,EAAE,IAAI;EACjBC,UAAU,EAAE,EAAE;EACdC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,eAAe,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACzCD,KAAK,CAACJ,WAAW,GAAGK,MAAM,CAACC,OAAO;AACpC,CAAC;AAED,MAAMC,iBAAiB,GAAGA,CAACH,KAAK,EAAEC,MAAM,KAAK;EAC3C,MAAMG,MAAM,GAAGH,MAAM,CAACC,OAAO;EAC7B,IAAIF,KAAK,CAACH,UAAU,CAACQ,QAAQ,CAACD,MAAM,CAAC,EAAE;IACrCJ,KAAK,CAACH,UAAU,GAAGG,KAAK,CAACH,UAAU,CAACS,MAAM,CAACC,EAAE,IAAIA,EAAE,KAAKH,MAAM,CAAC;EACjE,CAAC,MAAM;IACLJ,KAAK,CAACH,UAAU,CAACW,IAAI,CAACJ,MAAM,CAAC;EAC/B;AACF,CAAC;AAGD,MAAMK,YAAY,GAAGA,CAACT,KAAK,GAAGN,YAAY,EAAEO,MAAM,KAAK;EACrD,QAAQA,MAAM,CAACS,IAAI;IACjB,KAAKlB,SAAS;MACZ,OAAOO,eAAe,CAACC,KAAK,EAAEC,MAAM,CAAC;IACvC,KAAKR,WAAW;MACd,OAAOU,iBAAiB,CAACH,KAAK,EAAEC,MAAM,CAAC;IACzC;MACE,OAAOD,KAAK;EAChB;AACF,CAAC;AACD,OAAO,MAAMW,cAAc,GAAGA,CAAA,KAAM;EAChC,OAAO,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IAC7BC,KAAK,CAAC,6DAA6D,GAAE;MAACC;IAAK,CAAC,CAAC,CAC1EC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;MAClD;IACF,CAAC,CAAC,CACDJ,IAAI,CAAEK,YAAY,IAAK;MACtBT,QAAQ,CAAC;QACPF,IAAI,EAAEY,SAAS;QACfpB,OAAO,EAAEqB;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EAAA,CAAC;AAAA,CAAC;AAEZ,eAAehB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}